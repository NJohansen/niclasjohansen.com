{"ast":null,"code":"import _regeneratorRuntime from \"/Users/niclasjohansen/Code/projects/newwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/niclasjohansen/Code/projects/newwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/niclasjohansen/Code/projects/newwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/niclasjohansen/Code/projects/newwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/niclasjohansen/Code/projects/newwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/niclasjohansen/Code/projects/newwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/niclasjohansen/Code/projects/newwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/niclasjohansen/Code/projects/newwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/niclasjohansen/Code/projects/newwebsite/src/views/Blog/Blog.js\";\nimport React, { Component } from 'react';\nimport './Blog.css';\nimport Section from '../../components/Section/Section';\nimport Post from '../../components/Post';\n\nvar Blog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Blog, _Component);\n\n  function Blog() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Blog);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Blog)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      posts: JSON.parse(localStorage.getItem('posts')) || []\n    };\n    return _this;\n  }\n\n  _createClass(Blog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchPosts();\n    }\n  }, {\n    key: \"fetchPosts\",\n    value: function () {\n      var _fetchPosts = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, posts;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('/blog/posts.json');\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                posts = _context.sent;\n                localStorage.setItem('posts', JSON.stringify(posts));\n                this.setState({\n                  posts: _toConsumableArray(posts)\n                }, this.initColumn);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetchPosts() {\n        return _fetchPosts.apply(this, arguments);\n      }\n\n      return fetchPosts;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var posts = this.state.posts;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"blog-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Posts\")), React.createElement(\"section\", {\n        className: \"blog-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"blog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, posts.map(function (post, id) {\n        return _this2.renderPost(id, post);\n      }))));\n    }\n  }, {\n    key: \"renderPost\",\n    value: function renderPost(id, _ref) {\n      var title = _ref.title,\n          description = _ref.description,\n          coverTextColor = _ref.coverTextColor,\n          coverColor = _ref.coverColor;\n      var style = {\n        color: coverTextColor,\n        background: coverColor\n      };\n      var classes = ['post'].join(' ');\n      return React.createElement(\"div\", {\n        id: id,\n        key: id,\n        className: classes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, title), React.createElement(\"h2\", {\n        class: \"subject\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, description), React.createElement(Post, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Blog;\n}(Component);\n\nexport { Blog as default };","map":{"version":3,"sources":["/Users/niclasjohansen/Code/projects/newwebsite/src/views/Blog/Blog.js"],"names":["React","Component","Section","Post","Blog","state","posts","JSON","parse","localStorage","getItem","fetchPosts","fetch","res","json","setItem","stringify","setState","initColumn","map","post","id","renderPost","title","description","coverTextColor","coverColor","style","color","background","classes","join"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;;IAGqBC,I;;;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,KAAK,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,KAA6C;AAD9C,K;;;;;;wCAIW;AACjB,WAAKC,UAAL;AACD;;;;;;;;;;;;;uBAGmBC,KAAK,CAAC,kBAAD,C;;;AAAjBC,gBAAAA,G;;uBACcA,GAAG,CAACC,IAAJ,E;;;AAAdR,gBAAAA,K;AAENG,gBAAAA,YAAY,CAACM,OAAb,CAAqB,OAArB,EAA8BR,IAAI,CAACS,SAAL,CAAeV,KAAf,CAA9B;AAEA,qBAAKW,QAAL,CAAc;AACZX,kBAAAA,KAAK,qBAAMA,KAAN;AADO,iBAAd,EAEG,KAAKY,UAFR;;;;;;;;;;;;;;;;;;6BAKQ;AAAA;;AAAA,UACAZ,KADA,GACU,KAAKD,KADf,CACAC,KADA;AAGR,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAS,QAAA,SAAS,EAAC,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,EAIE;AAAS,QAAA,SAAS,EAAC,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,KAAK,CAACa,GAAN,CAAU,UAACC,IAAD,EAAOC,EAAP;AAAA,eAAc,MAAI,CAACC,UAAL,CAAgBD,EAAhB,EAAoBD,IAApB,CAAd;AAAA,OAAV,CADH,CADF,CAJF,CADF;AAYD;;;+BAEWC,E,QAAwD;AAAA,UAAlDE,KAAkD,QAAlDA,KAAkD;AAAA,UAA3CC,WAA2C,QAA3CA,WAA2C;AAAA,UAA9BC,cAA8B,QAA9BA,cAA8B;AAAA,UAAdC,UAAc,QAAdA,UAAc;AAClE,UAAMC,KAAK,GAAG;AACZC,QAAAA,KAAK,EAAEH,cADK;AAEZI,QAAAA,UAAU,EAAEH;AAFA,OAAd;AAKA,UAAMI,OAAO,GAAG,CAAC,MAAD,EAASC,IAAT,CAAc,GAAd,CAAhB;AAEA,aACE;AAAK,QAAA,EAAE,EAAEV,EAAT;AAAa,QAAA,GAAG,EAAEA,EAAlB;AAAsB,QAAA,SAAS,EAAES,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,KAAK,EAAEH,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKJ,KAAL,CADF,EAEE;AAAI,QAAA,KAAK,EAAC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqBC,WAArB,CAFF,EAGE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF,CADF,CADF,CADF;AAaD;;;;EA1D+BvB,S;;SAAbG,I","sourcesContent":["import React, { Component } from 'react';\nimport './Blog.css';\nimport Section from '../../components/Section/Section';\nimport Post from '../../components/Post';\n\n\nexport default class Blog extends Component {\n  state = {\n    posts: JSON.parse(localStorage.getItem('posts')) || [] \n  }\n\n  componentDidMount(){\n    this.fetchPosts()\n  }\n\n  async fetchPosts(){\n    const res = await fetch('/blog/posts.json')\n    const posts = await res.json()\n\n    localStorage.setItem('posts', JSON.stringify(posts))\n\n    this.setState({\n      posts: [...posts]\n    }, this.initColumn)\n  }\n\n  render () {\n    const { posts } = this.state\n\n    return (\n      <div>\n        <section className='blog-heading'>\n          <h1>Posts</h1>\n        </section>\n        <section className='blog-section'>\n          <div className='blog'>\n            {posts.map((post, id) => this.renderPost(id, post))}\n          </div>\n        </section>\n      </div>\n    )\n  }\n\n  renderPost (id, { title, description, coverTextColor, coverColor }) {\n    const style = {\n      color: coverTextColor,\n      background: coverColor\n    }\n\n    const classes = ['post'].join(' ')\n\n    return (\n      <div id={id} key={id} className={classes}>\n        <header style={style}>\n          <section>\n            <div>\n              <h1>{title}</h1>\n              <h2 class='subject'>{description}</h2>\n              <Post/>\n            </div>\n          </section>\n        </header>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}