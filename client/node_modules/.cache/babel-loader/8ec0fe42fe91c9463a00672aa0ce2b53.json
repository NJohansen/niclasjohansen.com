{"ast":null,"code":"import _regeneratorRuntime from \"/Users/niclasjohansen/Code/projects/newwebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/niclasjohansen/Code/projects/newwebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/niclasjohansen/Code/projects/newwebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/niclasjohansen/Code/projects/newwebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/niclasjohansen/Code/projects/newwebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/niclasjohansen/Code/projects/newwebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/niclasjohansen/Code/projects/newwebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/niclasjohansen/Code/projects/newwebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/niclasjohansen/Code/projects/newwebsite/client/src/views/Blog/Blog.js\";\nimport React, { Component } from 'react';\nimport './Blog.css';\nimport Section from '../../components/Section/Section';\n\nvar Blog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Blog, _Component);\n\n  function Blog(props) {\n    var _this;\n\n    _classCallCheck(this, Blog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Blog).call(this, props));\n    _this.state = {\n      posts: JSON.parse(localStorage.getItem('posts')) || []\n    };\n    return _this;\n  }\n\n  _createClass(Blog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchPosts();\n    }\n  }, {\n    key: \"fetchPosts\",\n    value: function () {\n      var _fetchPosts = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, posts;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('/blog/posts.json');\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                posts = _context.sent;\n                console.log(posts);\n                localStorage.setItem('posts', JSON.stringify(posts));\n                this.setState({\n                  posts: _toConsumableArray(posts)\n                }, this.initColumn);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetchPosts() {\n        return _fetchPosts.apply(this, arguments);\n      }\n\n      return fetchPosts;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var posts = this.state.posts;\n      console.log(posts);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"blog-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(Section, {\n        headertext: \"Posts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        className: \"blog-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"blog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, posts.map(function (post, id) {\n        return _this2.renderPost(id, post);\n      }))));\n    }\n  }, {\n    key: \"renderPost\",\n    value: function renderPost(id, _ref) {\n      var title = _ref.title,\n          description = _ref.description,\n          coverTextColor = _ref.coverTextColor,\n          coverColor = _ref.coverColor;\n      var style = {\n        color: coverTextColor,\n        background: coverColor\n      };\n      var classes = ['post'].join(' ');\n      return React.createElement(\"div\", {\n        id: id,\n        key: id,\n        className: classes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, title), React.createElement(\"h2\", {\n        className: \"subject\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, description)))));\n    }\n  }]);\n\n  return Blog;\n}(Component);\n\nexport { Blog as default };","map":{"version":3,"sources":["/Users/niclasjohansen/Code/projects/newwebsite/client/src/views/Blog/Blog.js"],"names":["React","Component","Section","Blog","props","state","posts","JSON","parse","localStorage","getItem","fetchPosts","fetch","res","json","console","log","setItem","stringify","setState","initColumn","map","post","id","renderPost","title","description","coverTextColor","coverColor","style","color","background","classes","join"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAOC,OAAP,MAAoB,kCAApB;;IAGqBC,I;;;;;AACnB,gBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,8EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACbC,MAAAA,KAAK,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,KAA6C;AADvC,KAAb;AAFgB;AAKjB;;;;wCAEkB;AACjB,WAAKC,UAAL;AACD;;;;;;;;;;;;;uBAGmBC,KAAK,CAAC,kBAAD,C;;;AAAjBC,gBAAAA,G;;uBACcA,GAAG,CAACC,IAAJ,E;;;AAAdR,gBAAAA,K;AACNS,gBAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACAG,gBAAAA,YAAY,CAACQ,OAAb,CAAqB,OAArB,EAA8BV,IAAI,CAACW,SAAL,CAAeZ,KAAf,CAA9B;AAEA,qBAAKa,QAAL,CAAc;AACZb,kBAAAA,KAAK,qBAAMA,KAAN;AADO,iBAAd,EAEG,KAAKc,UAFR;;;;;;;;;;;;;;;;;;6BAKQ;AAAA;;AACR,UAAMd,KAAK,GAAI,KAAKD,KAAL,CAAWC,KAA1B;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAS,QAAA,SAAS,EAAC,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,OAAD;AAAS,QAAA,UAAU,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADF,EAIE;AAAS,QAAA,SAAS,EAAC,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,KAAK,CAACe,GAAN,CAAU,UAACC,IAAD,EAAOC,EAAP;AAAA,eAAc,MAAI,CAACC,UAAL,CAAgBD,EAAhB,EAAoBD,IAApB,CAAd;AAAA,OAAV,CADH,CADF,CAJF,CADF;AAYD;;;+BAEWC,E,QAAwD;AAAA,UAAlDE,KAAkD,QAAlDA,KAAkD;AAAA,UAA3CC,WAA2C,QAA3CA,WAA2C;AAAA,UAA9BC,cAA8B,QAA9BA,cAA8B;AAAA,UAAdC,UAAc,QAAdA,UAAc;AAClE,UAAMC,KAAK,GAAG;AACZC,QAAAA,KAAK,EAAEH,cADK;AAEZI,QAAAA,UAAU,EAAEH;AAFA,OAAd;AAKA,UAAMI,OAAO,GAAG,CAAC,MAAD,EAASC,IAAT,CAAc,GAAd,CAAhB;AAEA,aACE;AAAK,QAAA,EAAE,EAAEV,EAAT;AAAa,QAAA,GAAG,EAAEA,EAAlB;AAAsB,QAAA,SAAS,EAAES,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,KAAK,EAAEH,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKJ,KAAL,CADF,EAEE;AAAI,QAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyBC,WAAzB,CAFF,CADF,CADF,CADF,CADF;AAYD;;;;EA5D+BzB,S;;SAAbE,I","sourcesContent":["import React, { Component } from 'react';\nimport './Blog.css';\nimport Section from '../../components/Section/Section';\n\n\nexport default class Blog extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n    posts: JSON.parse(localStorage.getItem('posts')) || [] \n    }\n  }\n\n  componentDidMount(){\n    this.fetchPosts()\n  }\n\n  async fetchPosts(){\n    const res = await fetch('/blog/posts.json')\n    const posts = await res.json()\n    console.log(posts)\n    localStorage.setItem('posts', JSON.stringify(posts))\n    \n    this.setState({\n      posts: [...posts]\n    }, this.initColumn)\n  }\n\n  render () {\n    const posts  = this.state.posts\n    console.log(posts)\n    return (\n      <div>\n        <section className='blog-heading'>\n        <Section headertext='Posts'/>\n        </section>\n        <section className='blog-section'>\n          <div className='blog'>\n            {posts.map((post, id) => this.renderPost(id, post))}\n          </div>\n        </section>\n      </div>\n    )\n  }\n\n  renderPost (id, { title, description, coverTextColor, coverColor }) {\n    const style = {\n      color: coverTextColor,\n      background: coverColor\n    }\n\n    const classes = ['post'].join(' ')\n\n    return (\n      <div id={id} key={id} className={classes}>\n        <header style={style}>\n          <section>\n            <div>\n              <h1>{title}</h1>\n              <h2 className='subject'>{description}</h2>\n            </div>\n          </section>\n        </header>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}